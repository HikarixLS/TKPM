<mxfile host="app.diagrams.net">
  <diagram name="Authentication Use Cases" id="auth-uc">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="ðŸ” AUTHENTICATION &amp; AUTHORIZATION" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#0066CC;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1320" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="subtitle" value="3 Use Cases: UC1-UC3 | Authentication, Login, Profile" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="1320" height="30" as="geometry" />
        </mxCell>

        <!-- UC1: ÄÄƒng kÃ½ tÃ i khoáº£n -->
        <mxCell id="uc1-section" value="UC1: ÄÄ‚NG KÃ TÃ€I KHOáº¢N" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="150" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc1-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;ÄÄƒng kÃ½ tÃ i khoáº£n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng (Customer)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Nháº¥n nÃºt &quot;ÄÄƒng kÃ½&quot;&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra email Ä‘Ã£ tá»“n táº¡i chÆ°a&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Email chÆ°a tá»“n táº¡i&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 MÃ£ hÃ³a password báº±ng BCrypt&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 LÆ°u thÃ´ng tin user vÃ o database&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Gá»­i email chÃ o má»«ng (Observer Pattern)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Pháº£n há»“i thÃ nh cÃ´ng cho user&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="190" width="1320" height="180" as="geometry" />
        </mxCell>

        <mxCell id="uc1-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="380" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc1-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: Email Ä‘Ã£ tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2&lt;/td&gt;&lt;td&gt;Há»‡ thá»‘ng kiá»ƒm tra email Ä‘Ã£ cÃ³ trong database&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Email Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: Dá»¯ liá»‡u khÃ´ng há»£p lá»‡&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2&lt;/td&gt;&lt;td&gt;Email khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng hoáº·c password quÃ¡ ngáº¯n&lt;br&gt;â†’ Tráº£ vá» lá»—i validation&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: ÄÄƒng kÃ½ thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1, 2.2, 2.3, 2.4, 3&lt;/td&gt;&lt;td&gt;Email há»£p lá»‡ vÃ  chÆ°a tá»“n táº¡i&lt;br&gt;â†’ Táº¡o tÃ i khoáº£n thÃ nh cÃ´ng&lt;br&gt;â†’ Gá»­i email chÃ o má»«ng&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="410" width="1320" height="160" as="geometry" />
        </mxCell>

        <!-- UC2: ÄÄƒng nháº­p -->
        <mxCell id="uc2-section" value="UC2: ÄÄ‚NG NHáº¬P" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="600" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc2-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;ÄÄƒng nháº­p&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng, Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Nháº­p email vÃ  password&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng xÃ¡c thá»±c thÃ´ng tin&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 TÃ¬m user theo email&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 So sÃ¡nh password (BCrypt)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Táº¡o JWT token&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Tráº£ vá» token vÃ  thÃ´ng tin user&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; User lÆ°u token vÃ  sá»­ dá»¥ng cho cÃ¡c request tiáº¿p theo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="640" width="1320" height="180" as="geometry" />
        </mxCell>

        <mxCell id="uc2-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="830" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc2-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: Email khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;Há»‡ thá»‘ng khÃ´ng tÃ¬m tháº¥y user vá»›i email nÃ y&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Email hoáº·c password khÃ´ng Ä‘Ãºng&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: Password sai&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1, 2.2&lt;/td&gt;&lt;td&gt;Email Ä‘Ãºng nhÆ°ng password khÃ´ng khá»›p&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Email hoáº·c password khÃ´ng Ä‘Ãºng&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: ÄÄƒng nháº­p thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1, 2.2, 2.3, 2.4, 3&lt;/td&gt;&lt;td&gt;Email vÃ  password Ä‘Ãºng&lt;br&gt;â†’ Táº¡o JWT token (24h)&lt;br&gt;â†’ Tráº£ vá» token + user info&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="860" width="1320" height="160" as="geometry" />
        </mxCell>

        <!-- UC3: Xem thÃ´ng tin cÃ¡ nhÃ¢n -->
        <mxCell id="uc3-section" value="UC3: XEM THÃ”NG TIN CÃ NHÃ‚N" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1050" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc3-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Xem thÃ´ng tin cÃ¡ nhÃ¢n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng, Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Gá»­i request vá»›i JWT token&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng xÃ¡c thá»±c token&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Parse vÃ  verify JWT token&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Láº¥y user tá»« database&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Chuyá»ƒn Ä‘á»•i sang DTO (khÃ´ng bao gá»“m password)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Tráº£ vá» thÃ´ng tin user&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1090" width="1320" height="170" as="geometry" />
        </mxCell>

        <mxCell id="uc3-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1270" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc3-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: Token khÃ´ng há»£p lá»‡&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;Token háº¿t háº¡n hoáº·c khÃ´ng há»£p lá»‡&lt;br&gt;â†’ Tráº£ vá» lá»—i 401 Unauthorized&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: User khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2&lt;/td&gt;&lt;td&gt;Token há»£p lá»‡ nhÆ°ng user Ä‘Ã£ bá»‹ xÃ³a&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;User not found&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Láº¥y thÃ´ng tin thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1, 2.2, 2.3, 3&lt;/td&gt;&lt;td&gt;Token há»£p lá»‡ vÃ  user tá»“n táº¡i&lt;br&gt;â†’ Tráº£ vá» thÃ´ng tin user (khÃ´ng cÃ³ password)&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1300" width="1320" height="160" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="ðŸ“š AppleStore Backend | Authentication Use Cases: UC1-UC3 | 3/3 Complete âœ…" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="1490" width="1320" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>