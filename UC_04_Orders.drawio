<mxfile host="app.diagrams.net">
  <diagram name="Order Management Use Cases" id="order-uc">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="4000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="ðŸ“¦ QUáº¢N LÃ ÄÆ N HÃ€NG (ORDER MANAGEMENT)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#7F00FF;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1320" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="subtitle" value="7 Use Cases: UC19-UC25 | Create, View, Cancel, Update Orders" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="1320" height="30" as="geometry" />
        </mxCell>

        <!-- UC19: Táº¡o Ä‘Æ¡n hÃ ng -->
        <mxCell id="uc19-section" value="UC19: Táº O ÄÆ N HÃ€NG" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="150" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc19-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Táº¡o Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Nháº¥n &quot;Äáº·t hÃ ng&quot;&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra giá» hÃ ng&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Láº¥y táº¥t cáº£ cart items cá»§a user&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Kiá»ƒm tra giá» hÃ ng khÃ´ng rá»—ng&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Kiá»ƒm tra tá»“n kho cho tá»«ng sáº£n pháº©m&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Táº¡o order má»›i (status: PENDING)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 Táº¡o order_items tá»« cart_items&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.6 TÃ­nh subtotal, shipping fee, tax&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.7 Cáº­p nháº­t tá»“n kho (trá»« Ä‘i sá»‘ lÆ°á»£ng Ä‘áº·t)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.8 XÃ³a giá» hÃ ng&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.9 Gá»­i email xÃ¡c nháº­n (Observer Pattern)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Tráº£ vá» thÃ´ng tin Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="190" width="1320" height="260" as="geometry" />
        </mxCell>

        <mxCell id="uc19-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="460" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc19-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: Giá» hÃ ng trá»‘ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1, 2.2&lt;/td&gt;&lt;td&gt;User chÆ°a cÃ³ sáº£n pháº©m trong giá»&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Cart is empty&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: CÃ³ sáº£n pháº©m háº¿t hÃ ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2, 2.3&lt;/td&gt;&lt;td&gt;Má»™t hoáº·c nhiá»u sáº£n pháº©m khÃ´ng Ä‘á»§ tá»“n kho&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Insufficient stock for product X&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Äáº·t hÃ ng thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.9, 3&lt;/td&gt;&lt;td&gt;Giá» hÃ ng há»£p lá»‡ vÃ  Ä‘á»§ tá»“n kho&lt;br&gt;â†’ Táº¡o Ä‘Æ¡n hÃ ng â†’ Trá»« tá»“n kho â†’ Gá»­i email xÃ¡c nháº­n â†’ XÃ³a giá» hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="490" width="1320" height="160" as="geometry" />
        </mxCell>

        <!-- UC20: Xem Ä‘Æ¡n hÃ ng cá»§a tÃ´i -->
        <mxCell id="uc20-section" value="UC20: XEM ÄÆ N HÃ€NG Cá»¦A TÃ”I" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="680" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc20-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Xem Ä‘Æ¡n hÃ ng cá»§a tÃ´i&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; VÃ o trang &quot;ÄÆ¡n hÃ ng cá»§a tÃ´i&quot;&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng láº¥y danh sÃ¡ch Ä‘Æ¡n hÃ ng&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Truy váº¥n orders theo user_id&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Sáº¯p xáº¿p theo thá»i gian (má»›i nháº¥t trÆ°á»›c)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Load order_items cho má»—i Ä‘Æ¡n&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Hiá»ƒn thá»‹ danh sÃ¡ch Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="720" width="1320" height="160" as="geometry" />
        </mxCell>

        <mxCell id="uc20-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="890" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc20-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;User chÆ°a tá»«ng Ä‘áº·t hÃ ng&lt;br&gt;â†’ Tráº£ vá» danh sÃ¡ch rá»—ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: CÃ³ Ä‘Æ¡n hÃ ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1, 2.2, 2.3, 3&lt;/td&gt;&lt;td&gt;User Ä‘Ã£ cÃ³ Ä‘Æ¡n hÃ ng&lt;br&gt;â†’ Hiá»ƒn thá»‹ danh sÃ¡ch vá»›i tráº¡ng thÃ¡i vÃ  tá»•ng tiá»n&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="920" width="1320" height="120" as="geometry" />
        </mxCell>

        <!-- UC21: Xem chi tiáº¿t Ä‘Æ¡n hÃ ng -->
        <mxCell id="uc21-section" value="UC21: XEM CHI TIáº¾T ÄÆ N HÃ€NG" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1070" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc21-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Xem chi tiáº¿t Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng, Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Click vÃ o má»™t Ä‘Æ¡n hÃ ng&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng láº¥y thÃ´ng tin chi tiáº¿t&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Truy váº¥n order theo ID&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Kiá»ƒm tra quyá»n xem (user hoáº·c admin)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Load order_items vá»›i thÃ´ng tin sáº£n pháº©m&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Load thÃ´ng tin user Ä‘áº·t hÃ ng&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 TÃ­nh toÃ¡n timeline (created, confirmed, shipped, delivered)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Hiá»ƒn thá»‹ thÃ´ng tin Ä‘áº§y Ä‘á»§&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1110" width="1320" height="180" as="geometry" />
        </mxCell>

        <mxCell id="uc21-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1300" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc21-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: ÄÆ¡n hÃ ng khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;Order ID khÃ´ng cÃ³ trong database&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Order not found&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: KhÃ´ng cÃ³ quyá»n xem&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2&lt;/td&gt;&lt;td&gt;ÄÆ¡n hÃ ng khÃ´ng thuá»™c vá» user vÃ  user khÃ´ng pháº£i Admin&lt;br&gt;â†’ Tráº£ vá» lá»—i 403 Forbidden&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Xem thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.5, 3&lt;/td&gt;&lt;td&gt;CÃ³ quyá»n xem&lt;br&gt;â†’ Hiá»ƒn thá»‹: items, giÃ¡, Ä‘á»‹a chá»‰, tráº¡ng thÃ¡i, timeline&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1330" width="1320" height="150" as="geometry" />
        </mxCell>

        <!-- UC22: Há»§y Ä‘Æ¡n hÃ ng -->
        <mxCell id="uc22-section" value="UC22: Há»¦Y ÄÆ N HÃ€NG" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1510" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc22-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Há»§y Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;KhÃ¡ch hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Nháº¥n &quot;Há»§y Ä‘Æ¡n hÃ ng&quot;&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra Ä‘iá»u kiá»‡n&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 Láº¥y thÃ´ng tin order&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Kiá»ƒm tra order thuá»™c vá» user&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Kiá»ƒm tra tráº¡ng thÃ¡i (chá»‰ PENDING/CONFIRMED Ä‘Æ°á»£c há»§y)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Cáº­p nháº­t status = CANCELLED&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 HoÃ n tráº£ tá»“n kho (cá»™ng láº¡i stock quantity)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.6 Gá»­i email thÃ´ng bÃ¡o (Observer)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Tráº£ vá» Ä‘Æ¡n hÃ ng Ä‘Ã£ há»§y&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1550" width="1320" height="190" as="geometry" />
        </mxCell>

        <mxCell id="uc22-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1750" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc22-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: ÄÆ¡n hÃ ng khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;Order ID khÃ´ng cÃ³ trong database&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Order not found&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: ÄÆ¡n hÃ ng khÃ´ng thá»ƒ há»§y&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2, 2.3&lt;/td&gt;&lt;td&gt;Order Ä‘ang SHIPPING, DELIVERED hoáº·c CANCELLED&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Cannot cancel order&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Há»§y thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.6, 3&lt;/td&gt;&lt;td&gt;Order PENDING/CONFIRMED&lt;br&gt;â†’ Há»§y Ä‘Æ¡n â†’ HoÃ n tá»“n kho â†’ Gá»­i email&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1780" width="1320" height="150" as="geometry" />
        </mxCell>

        <!-- UC23: Xem táº¥t cáº£ Ä‘Æ¡n hÃ ng (Admin) -->
        <mxCell id="uc23-section" value="UC23: XEM Táº¤T Cáº¢ ÄÆ N HÃ€NG (Admin)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="1960" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc23-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Xem táº¥t cáº£ Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; VÃ o trang &quot;Quáº£n lÃ½ Ä‘Æ¡n hÃ ng&quot;&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra quyá»n Admin&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 XÃ¡c thá»±c role = ADMIN&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Truy váº¥n táº¥t cáº£ orders&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Load thÃ´ng tin user vÃ  order_items&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Sáº¯p xáº¿p theo thá»i gian (má»›i nháº¥t trÆ°á»›c)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 Há»— trá»£ lá»c theo tráº¡ng thÃ¡i&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Hiá»ƒn thá»‹ danh sÃ¡ch toÃ n bá»™ Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="2000" width="1320" height="180" as="geometry" />
        </mxCell>

        <mxCell id="uc23-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="2190" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc23-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: KhÃ´ng cÃ³ quyá»n&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;User khÃ´ng pháº£i Admin&lt;br&gt;â†’ Tráº£ vá» lá»—i 403 Forbidden&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2&lt;/td&gt;&lt;td&gt;Há»‡ thá»‘ng chÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o&lt;br&gt;â†’ Tráº£ vá» danh sÃ¡ch rá»—ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Xem thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.5, 3&lt;/td&gt;&lt;td&gt;Admin cÃ³ quyá»n&lt;br&gt;â†’ Hiá»ƒn thá»‹ táº¥t cáº£ Ä‘Æ¡n hÃ ng vá»›i bá»™ lá»c&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="2220" width="1320" height="150" as="geometry" />
        </mxCell>

        <!-- UC24: Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng (Admin) -->
        <mxCell id="uc24-section" value="UC24: Cáº¬P NHáº¬T TRáº NG THÃI ÄÆ N HÃ€NG (Admin)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="2400" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc24-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Chá»n Ä‘Æ¡n hÃ ng vÃ  tráº¡ng thÃ¡i má»›i&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra quyá»n&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 XÃ¡c thá»±c role = ADMIN&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Láº¥y thÃ´ng tin order&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Validate tráº¡ng thÃ¡i má»›i (PENDINGâ†’CONFIRMEDâ†’SHIPPINGâ†’DELIVERED)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Cáº­p nháº­t status&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 LÆ°u timestamp (shipped_at, delivered_at)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.6 Gá»­i email thÃ´ng bÃ¡o (Observer)&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Tráº£ vá» order Ä‘Ã£ cáº­p nháº­t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="2440" width="1320" height="200" as="geometry" />
        </mxCell>

        <mxCell id="uc24-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="2650" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc24-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: KhÃ´ng cÃ³ quyá»n&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;User khÃ´ng pháº£i Admin&lt;br&gt;â†’ Tráº£ vá» lá»—i 403 Forbidden&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: Order khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2&lt;/td&gt;&lt;td&gt;Order ID khÃ´ng cÃ³ trong database&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Order not found&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Cáº­p nháº­t thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.6, 3&lt;/td&gt;&lt;td&gt;Admin cÃ³ quyá»n&lt;br&gt;â†’ Cáº­p nháº­t status â†’ Gá»­i email thÃ´ng bÃ¡o&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="2680" width="1320" height="150" as="geometry" />
        </mxCell>

        <!-- UC25: Cáº­p nháº­t tráº¡ng thÃ¡i thanh toÃ¡n (Admin) -->
        <mxCell id="uc25-section" value="UC25: Cáº¬P NHáº¬T TRáº NG THÃI THANH TOÃN (Admin)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=18;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="2860" width="1320" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="uc25-info" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#f0f0f0;&quot;&gt;&lt;td width=&quot;25%&quot; style=&quot;font-weight:bold;&quot;&gt;Use case name&lt;/td&gt;&lt;td&gt;Cáº­p nháº­t tráº¡ng thÃ¡i thanh toÃ¡n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;&quot;&gt;Actors&lt;/td&gt;&lt;td&gt;Quáº£n trá»‹ viÃªn&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#f0f0f0;font-weight:bold;vertical-align:top;&quot;&gt;Flow&lt;/td&gt;&lt;td style=&quot;text-align:left;&quot;&gt;&lt;b&gt;1.&lt;/b&gt; Chá»n Ä‘Æ¡n hÃ ng vÃ  tráº¡ng thÃ¡i thanh toÃ¡n má»›i&lt;br&gt;&lt;b&gt;2.&lt;/b&gt; Há»‡ thá»‘ng kiá»ƒm tra quyá»n&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.1 XÃ¡c thá»±c role = ADMIN&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.2 Láº¥y thÃ´ng tin order&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.3 Validate tráº¡ng thÃ¡i má»›i (PENDING, PAID, FAILED)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.4 Cáº­p nháº­t payment_status&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2.5 Náº¿u PAID: Cáº­p nháº­t paid_at timestamp&lt;br&gt;&lt;b&gt;3.&lt;/b&gt; Tráº£ vá» order Ä‘Ã£ cáº­p nháº­t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="2900" width="1320" height="190" as="geometry" />
        </mxCell>

        <mxCell id="uc25-scenarios-title" value="Ká»‹ch báº£n (Scenarios)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;" vertex="1" parent="1">
          <mxGeometry x="40" y="3100" width="1320" height="30" as="geometry" />
        </mxCell>

        <mxCell id="uc25-scenarios" value="&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellpadding=&quot;10&quot; style=&quot;border-collapse: collapse; font-size:13px;&quot;&gt;&lt;tr style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;td width=&quot;30%&quot; style=&quot;font-weight:bold;&quot;&gt;Ká»‹ch báº£n&lt;/td&gt;&lt;td style=&quot;font-weight:bold;&quot;&gt;MÃ´ táº£&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 1: KhÃ´ng cÃ³ quyá»n&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2, 2.1&lt;/td&gt;&lt;td&gt;User khÃ´ng pháº£i Admin&lt;br&gt;â†’ Tráº£ vá» lá»—i 403 Forbidden&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 2: Order khÃ´ng tá»“n táº¡i&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.1, 2.2&lt;/td&gt;&lt;td&gt;Order ID khÃ´ng cÃ³ trong database&lt;br&gt;â†’ Tráº£ vá» lá»—i &quot;Order not found&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#fff2cc;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 3: Tráº¡ng thÃ¡i khÃ´ng há»£p lá»‡&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 2.3&lt;/td&gt;&lt;td&gt;Payment status khÃ´ng pháº£i PENDING/PAID/FAILED&lt;br&gt;â†’ Tráº£ vá» lá»—i validation&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;background-color:#d5e8d4;&quot;&gt;&lt;b&gt;Ká»‹ch báº£n 4: Cáº­p nháº­t thÃ nh cÃ´ng&lt;/b&gt;&lt;br&gt;BÆ°á»›c: 1, 2.1-2.5, 3&lt;/td&gt;&lt;td&gt;Admin cÃ³ quyá»n vÃ  dá»¯ liá»‡u há»£p lá»‡&lt;br&gt;â†’ Cáº­p nháº­t tráº¡ng thÃ¡i thanh toÃ¡n&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="3130" width="1320" height="180" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="ðŸ“š AppleStore Backend | Order Management Use Cases: UC19-UC25 | 7/7 Complete âœ…" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="3340" width="1320" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>